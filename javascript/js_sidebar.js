document.addEventListener("DOMContentLoaded",function(){const navcheck=document.getElementById("navcheck");const nav=document.querySelector("nav");const content=document.getElementById("content");const idiomaLink=document.getElementById("language-link");idiomaLink.addEventListener("click",function(event){event.preventDefault();showLanguageOptions()});let startX=0;let startY=0;let isDragging=false;function openMenu(){navcheck.checked=true}function closeMenu(){navcheck.checked=false}document.addEventListener("touchstart",function(e){startX=e.touches[0].clientX;startY=e.touches[0].clientY;isDragging=false});document.addEventListener("touchmove",function(e){const currentX=e.touches[0].clientX;const currentY=e.touches[0].clientY;const deltaX=currentX-startX;const deltaY=currentY-startY;if(Math.abs(deltaX)>Math.abs(deltaY)){if(deltaX>100&&!isDragging){openMenu();isDragging=true}}});document.addEventListener("touchend",function(e){if(!isDragging){const endX=e.changedTouches[0].clientX;const deltaX=Math.abs(endX-startX);if(deltaX<10){navcheck.checked=!navcheck.checked}}isDragging=false});const menuButton=document.getElementById("menuButton");if(menuButton){menuButton.addEventListener("click",function(){if(navcheck.checked){closeMenu()}else{openMenu()}})}document.addEventListener("touchstart",function(e){if(nav&&!nav.contains(e.target)&&menuButton&&!menuButton.contains(e.target)){closeMenu()}});document.addEventListener("touchend",function(e){if(!isDragging){const endX=e.changedTouches[0].clientX;const deltaX=Math.abs(endX-startX);if(deltaX<10){navcheck.checked=!navcheck.checked}}isDragging=false});const menuLinks=document.querySelectorAll("nav a");menuLinks.forEach(link=>{link.addEventListener("click",function(e){e.preventDefault();const targetId=this.getAttribute("href").substring(1);const targetElement=document.getElementById(targetId);if(targetElement){targetElement.scrollIntoView({behavior:"smooth"});setTimeout(()=>{navcheck.checked=false},300)}})});window.addEventListener("scroll",function(){if(isInViewport(document.getElementById("content"))){setTimeout(()=>{navcheck.checked=false},1e3)}});function isInViewport(element){if(!element)return false;const rect=element.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}});