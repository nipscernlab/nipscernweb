document.addEventListener("DOMContentLoaded",function(){const idiomaLink=document.querySelector('a[href="#main-content"]');const languageSelector=document.querySelector(".language-selector");let timeoutId;function showLanguageOptions(){clearTimeout(timeoutId);languageSelector.style.display="block";setTimeout(()=>{languageSelector.style.opacity="1"},10)}function hideLanguageOptions(){timeoutId=setTimeout(()=>{languageSelector.style.opacity="0";setTimeout(()=>{languageSelector.style.display="none"},300)},500)}idiomaLink.addEventListener("mouseenter",showLanguageOptions);idiomaLink.addEventListener("mouseleave",hideLanguageOptions);languageSelector.addEventListener("mouseleave",hideLanguageOptions);languageSelector.addEventListener("mouseenter",function(){clearTimeout(timeoutId)})});let translations;function applyTranslations(language,translations){const elements=document.querySelectorAll("[data-i18n]");elements.forEach(function(element){const key=element.getAttribute("data-i18n");if(translations[language]&&translations[language][key]){if(element.tagName.toLowerCase()==="title"){document.title=translations[language][key]}else{element.textContent=translations[language][key]}}else{}});localStorage.setItem("preferredLanguage",language)}fetch("/json/json_idioma.json").then(function(response){return response.json()}).then(function(data){translations=data;const storedLanguage=localStorage.getItem("preferredLanguage");let language=storedLanguage||"en";console.log("Translations:",translations);const supportedLanguages=Object.keys(translations);if(!supportedLanguages.includes(language)){language="en"}applyTranslations(language,translations);const languageOptions=document.querySelectorAll(".language-option");languageOptions.forEach(function(option){option.addEventListener("click",function(event){event.preventDefault();const selectedLanguage=this.getAttribute("data-lang");applyTranslations(selectedLanguage,translations)})})}).catch(function(error){console.error("Erro ao carregar as traduções:",error)});